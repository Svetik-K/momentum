(()=>{"use strict";const e=[{title:"Aqua Caelestis",src:"../assets/sounds/Aqua Caelestis.mp3",duration:"00:39"},{title:"Ennio Morricone",src:"../assets/sounds/Ennio Morricone.mp3",duration:"01:37"},{title:"River Flows In You",src:"../assets/sounds/River Flows In You.mp3",duration:"01:37"},{title:"Summer Wind",src:"../assets/sounds/Summer Wind.mp3",duration:"01:50"}],t=document.querySelector(".button_play"),n=document.querySelector(".button_prev"),s=document.querySelector(".button_next"),o=document.querySelector(".playlist"),c=document.querySelector(".track-title"),r=(document.querySelector(".timer"),document.querySelector(".track-duration")),u=document.querySelector(".track"),i=document.querySelector(".progress-container"),l=document.querySelector(".progress"),a=document.querySelector(".audio-player__info"),d=document.querySelector(".volume-progress"),m=document.querySelector(".button_volume");e.forEach((e=>{const t=document.createElement("li");t.classList.add("playlist__item"),t.textContent=e.title;const n=document.createElement("button");n.classList.add("button","button_play-track"),t.prepend(n),o.append(t)}));let y=0;function p(e){document.querySelectorAll(".playlist__item")[e].classList.add("active")}function v(e){document.querySelectorAll(".playlist__item")[e].classList.remove("active")}function S(e){c.textContent=e.title,u.src=`./assets/sounds/${e.title}.mp3`,r.textContent=e.duration,u.currentTime=0,u.volume=.2}function L(){a.classList.add("play"),t.style.background="url(./assets/svg/pause.svg)",t.style.backgroundSize="contain",u.play()}function q(){v(y),y++,y>e.length-1&&(y=0),S(e[y]),p(y),L()}S(e[y]),p(y),t.addEventListener("click",(()=>{a.classList.contains("play")?(a.classList.remove("play"),t.style.background="url(./assets/svg/play.svg)",t.style.backgroundSize="contain",u.pause()):L()})),n.addEventListener("click",(function(){v(y),y--,y<0&&(y=e.length-1),S(e[y]),p(y),L()})),s.addEventListener("click",q),m.addEventListener("click",(function(e){e.target.classList.contains("mute")?(m.classList.remove("mute"),u.volume=.5):(m.classList.add("mute"),u.volume=0)})),u.addEventListener("timeupdate",(function(e){const{duration:t,currentTime:n}=e.srcElement,s=n/t*100;l.style.width=`${s}%`})),u.addEventListener("ended",q),i.addEventListener("click",(function(e){const t=this.clientWidth,n=e.offsetX,s=u.duration;u.currentTime=n/t*s})),d.addEventListener("change",(function(){u.volume=d.value}))})();